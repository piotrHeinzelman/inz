//
// Academic License - for use in teaching, academic research, and meeting
// course requirements at degree granting institutions only.  Not for
// government, commercial, or other organizational use.
//
// imresize.cpp
//
// Code generation for function 'imresize'
//

// Include files
#include "imresize.h"
#include "eml_int_forloop_overflow_check.h"
#include "rt_nonfinite.h"
#include "yolov8Predict_data.h"
#include "yolov8Predict_types.h"
#include "mwmathutil.h"
#include <algorithm>
#include <emmintrin.h>

// Variable Definitions
static emlrtRSInfo i_emlrtRSI{
    375,        // lineNo
    "imresize", // fcnName
    "C:\\Program "
    "Files\\MATLAB\\R2025a\\toolbox\\eml\\lib\\matlab\\images\\imresize.m" // pathName
};

static emlrtRSInfo j_emlrtRSI{
    378,        // lineNo
    "imresize", // fcnName
    "C:\\Program "
    "Files\\MATLAB\\R2025a\\toolbox\\eml\\lib\\matlab\\images\\imresize.m" // pathName
};

static emlrtRSInfo k_emlrtRSI{
    382,        // lineNo
    "imresize", // fcnName
    "C:\\Program "
    "Files\\MATLAB\\R2025a\\toolbox\\eml\\lib\\matlab\\images\\imresize.m" // pathName
};

static emlrtRSInfo l_emlrtRSI{
    385,        // lineNo
    "imresize", // fcnName
    "C:\\Program "
    "Files\\MATLAB\\R2025a\\toolbox\\eml\\lib\\matlab\\images\\imresize.m" // pathName
};

static emlrtRSInfo m_emlrtRSI{
    579,             // lineNo
    "contributions", // fcnName
    "C:\\Program "
    "Files\\MATLAB\\R2025a\\toolbox\\eml\\lib\\matlab\\images\\imresize.m" // pathName
};

static emlrtRSInfo
    n_emlrtRSI{
        16,    // lineNo
        "any", // fcnName
        "C:\\Program "
        "Files\\MATLAB\\R2025a\\toolbox\\eml\\lib\\matlab\\ops\\any.m" // pathName
    };

static emlrtRSInfo
    o_emlrtRSI{
        143,        // lineNo
        "allOrAny", // fcnName
        "C:\\Program "
        "Files\\MATLAB\\R2025a\\toolbox\\eml\\eml\\+coder\\+internal\\allOrAny."
        "m" // pathName
    };

static emlrtRSInfo q_emlrtRSI{
    439,              // lineNo
    "resizeAlongDim", // fcnName
    "C:\\Program "
    "Files\\MATLAB\\R2025a\\toolbox\\eml\\lib\\matlab\\images\\imresize.m" // pathName
};

static emlrtRSInfo r_emlrtRSI{
    457,                // lineNo
    "resizeAlongDim2D", // fcnName
    "C:\\Program "
    "Files\\MATLAB\\R2025a\\toolbox\\eml\\lib\\matlab\\images\\imresize.m" // pathName
};

static emlrtRSInfo s_emlrtRSI{
    18,        // lineNo
    "sub2ind", // fcnName
    "C:\\Program "
    "Files\\MATLAB\\R2025a\\toolbox\\eml\\lib\\matlab\\elmat\\sub2ind.m" // pathName
};

static emlrtRSInfo t_emlrtRSI{
    470,                // lineNo
    "resizeAlongDim2D", // fcnName
    "C:\\Program "
    "Files\\MATLAB\\R2025a\\toolbox\\eml\\lib\\matlab\\images\\imresize.m" // pathName
};

static emlrtRSInfo u_emlrtRSI{
    479,                // lineNo
    "resizeAlongDim2D", // fcnName
    "C:\\Program "
    "Files\\MATLAB\\R2025a\\toolbox\\eml\\lib\\matlab\\images\\imresize.m" // pathName
};

static emlrtRTEInfo emlrtRTEI{
    28,        // lineNo
    19,        // colNo
    "sub2ind", // fName
    "C:\\Program "
    "Files\\MATLAB\\R2025a\\toolbox\\eml\\eml\\+coder\\+internal\\sub2ind.m" // pName
};

// Function Declarations
namespace coder {
static void contributions(const emlrtStack &sp, real_T weights_data[],
                          int32_T weights_size[2], int32_T indices_data[],
                          int32_T indices_size[2]);

}

// Function Definitions
namespace coder {
static void contributions(const emlrtStack &sp, real_T weights_data[],
                          int32_T weights_size[2], int32_T indices_data[],
                          int32_T indices_size[2])
{
  static const real_T dv[640]{
      0.89296875,         1.6789062499999998, 2.46484375,
      3.2507812499999997, 4.03671875,         4.8226562500000005,
      5.60859375,         6.39453125,         7.18046875,
      7.96640625,         8.75234375,         9.53828125,
      10.32421875,        11.11015625,        11.89609375,
      12.68203125,        13.46796875,        14.25390625,
      15.03984375,        15.82578125,        16.611718749999998,
      17.397656249999997, 18.183593749999996, 18.96953125,
      19.75546875,        20.541406249999998, 21.327343749999997,
      22.113281249999996, 22.89921875,        23.68515625,
      24.471093749999998, 25.257031249999997, 26.042968749999996,
      26.82890625,        27.61484375,        28.400781249999998,
      29.186718749999997, 29.972656249999996, 30.75859375,
      31.54453125,        32.330468749999994, 33.11640625,
      33.90234375,        34.688281249999996, 35.47421875,
      36.260156249999994, 37.04609375,        37.83203125,
      38.617968749999996, 39.40390625,        40.189843749999994,
      40.97578125,        41.76171875,        42.547656249999996,
      43.33359375,        44.119531249999994, 44.90546875,
      45.69140625,        46.477343749999996, 47.26328125,
      48.049218749999994, 48.83515625,        49.62109375,
      50.407031249999996, 51.19296875,        51.978906249999994,
      52.76484375,        53.55078125,        54.336718749999996,
      55.12265625,        55.908593749999994, 56.69453125,
      57.48046875,        58.266406249999996, 59.05234375,
      59.838281249999994, 60.62421875,        61.41015625,
      62.196093749999996, 62.98203125,        63.767968749999994,
      64.55390625,        65.33984375,        66.12578125,
      66.91171875,        67.697656250000009, 68.48359375,
      69.26953125,        70.05546875,        70.84140625,
      71.627343750000009, 72.41328125,        73.19921875,
      73.98515625,        74.77109375,        75.557031250000009,
      76.34296875,        77.12890625,        77.91484375,
      78.70078125,        79.486718750000009, 80.27265625,
      81.05859375,        81.84453125,        82.63046875,
      83.416406250000009, 84.20234375,        84.98828125,
      85.77421875,        86.56015625,        87.346093750000009,
      88.13203125,        88.91796875,        89.70390625,
      90.48984375,        91.275781250000009, 92.06171875,
      92.84765625,        93.63359375,        94.41953125,
      95.205468750000009, 95.99140625,        96.77734375,
      97.56328125,        98.34921875,        99.135156250000009,
      99.92109375,        100.70703125,       101.49296875,
      102.27890625,       103.06484375000001, 103.85078125,
      104.63671875,       105.42265625,       106.20859375,
      106.99453125000001, 107.78046875,       108.56640625,
      109.35234375,       110.13828125,       110.92421875000001,
      111.71015625,       112.49609375,       113.28203125,
      114.06796875,       114.85390625000001, 115.63984375,
      116.42578125,       117.21171875,       117.99765625,
      118.78359375000001, 119.56953125,       120.35546875,
      121.14140625,       121.92734375,       122.71328125000001,
      123.49921875,       124.28515625,       125.07109375,
      125.85703125,       126.64296875000001, 127.42890625,
      128.21484375,       129.00078125,       129.78671875,
      130.57265625,       131.35859375,       132.14453125,
      132.93046875,       133.71640625,       134.50234375,
      135.28828125,       136.07421875,       136.86015625,
      137.64609375,       138.43203125,       139.21796875,
      140.00390625,       140.78984375,       141.57578125,
      142.36171875,       143.14765625,       143.93359375,
      144.71953125,       145.50546875,       146.29140625,
      147.07734375,       147.86328125,       148.64921875,
      149.43515625,       150.22109375,       151.00703125,
      151.79296875,       152.57890625,       153.36484375,
      154.15078125,       154.93671875,       155.72265625,
      156.50859375,       157.29453125,       158.08046875,
      158.86640625,       159.65234375,       160.43828125,
      161.22421875,       162.01015625,       162.79609375,
      163.58203125,       164.36796875,       165.15390625,
      165.93984375,       166.72578125,       167.51171875,
      168.29765625,       169.08359375,       169.86953125,
      170.65546875,       171.44140625,       172.22734375,
      173.01328125,       173.79921875,       174.58515625,
      175.37109375,       176.15703125,       176.94296875,
      177.72890625,       178.51484375,       179.30078125,
      180.08671875,       180.87265625,       181.65859375,
      182.44453125,       183.23046875,       184.01640625,
      184.80234375,       185.58828125,       186.37421875,
      187.16015625,       187.94609375,       188.73203125,
      189.51796875,       190.30390625,       191.08984375,
      191.87578125,       192.66171875,       193.44765625,
      194.23359375,       195.01953125,       195.80546875,
      196.59140625,       197.37734375,       198.16328125,
      198.94921875,       199.73515625,       200.52109375,
      201.30703125,       202.09296875,       202.87890625,
      203.66484375,       204.45078125,       205.23671875,
      206.02265625,       206.80859375,       207.59453125,
      208.38046875,       209.16640625,       209.95234375,
      210.73828125,       211.52421875,       212.31015625,
      213.09609375,       213.88203125,       214.66796875,
      215.45390625,       216.23984375,       217.02578125,
      217.81171875,       218.59765625,       219.38359375,
      220.16953125,       220.95546875,       221.74140625,
      222.52734375,       223.31328125,       224.09921875,
      224.88515625,       225.67109375,       226.45703125,
      227.24296875,       228.02890625,       228.81484375,
      229.60078125,       230.38671875,       231.17265625,
      231.95859375,       232.74453125,       233.53046875,
      234.31640625,       235.10234375,       235.88828125,
      236.67421875,       237.46015625,       238.24609375,
      239.03203125,       239.81796875,       240.60390625,
      241.38984375,       242.17578125,       242.96171875,
      243.74765625,       244.53359375,       245.31953125,
      246.10546875,       246.89140625,       247.67734375,
      248.46328125,       249.24921875,       250.03515625,
      250.82109375,       251.60703125,       252.39296875,
      253.17890625,       253.96484375,       254.75078125,
      255.53671875,       256.32265624999997, 257.10859374999995,
      257.89453124999994, 258.68046875,       259.46640625,
      260.25234374999997, 261.03828124999995, 261.82421874999994,
      262.61015625,       263.39609375,       264.18203124999997,
      264.96796874999995, 265.75390624999994, 266.53984375,
      267.32578125,       268.11171874999997, 268.89765624999995,
      269.68359374999994, 270.46953125,       271.25546875,
      272.04140624999997, 272.82734374999995, 273.61328124999994,
      274.39921875,       275.18515625,       275.97109374999997,
      276.75703124999995, 277.54296874999994, 278.32890625,
      279.11484375,       279.90078124999997, 280.68671874999995,
      281.47265624999994, 282.25859375,       283.04453125,
      283.83046874999997, 284.61640624999995, 285.40234374999994,
      286.18828125,       286.97421875,       287.76015624999997,
      288.54609374999995, 289.33203124999994, 290.11796875,
      290.90390625,       291.68984374999997, 292.47578124999995,
      293.26171874999994, 294.04765625,       294.83359375,
      295.61953124999997, 296.40546874999995, 297.19140624999994,
      297.97734375,       298.76328125,       299.54921874999997,
      300.33515624999995, 301.12109374999994, 301.90703125,
      302.69296875,       303.47890624999997, 304.26484374999995,
      305.05078124999994, 305.83671875,       306.62265625,
      307.40859374999997, 308.19453124999995, 308.98046874999994,
      309.76640625,       310.55234375,       311.33828124999997,
      312.12421874999995, 312.91015624999994, 313.69609375,
      314.48203125,       315.26796874999997, 316.05390624999995,
      316.83984374999994, 317.62578125,       318.41171875,
      319.19765624999997, 319.98359374999995, 320.76953124999994,
      321.55546875,       322.34140625,       323.12734374999997,
      323.91328124999995, 324.69921874999994, 325.48515625,
      326.27109375,       327.05703124999997, 327.84296874999995,
      328.62890624999994, 329.41484375,       330.20078125,
      330.98671874999997, 331.77265624999995, 332.55859374999994,
      333.34453125,       334.13046875,       334.91640624999997,
      335.70234374999995, 336.48828124999994, 337.27421875,
      338.06015625,       338.84609374999997, 339.63203124999995,
      340.41796874999994, 341.20390625,       341.98984375,
      342.77578124999997, 343.56171874999995, 344.34765624999994,
      345.13359375,       345.91953125,       346.70546874999997,
      347.49140624999995, 348.27734374999994, 349.06328125,
      349.84921875,       350.63515624999997, 351.42109374999995,
      352.20703124999994, 352.99296875,       353.77890625,
      354.56484374999997, 355.35078124999995, 356.13671874999994,
      356.92265625,       357.70859375,       358.49453124999997,
      359.28046874999995, 360.06640624999994, 360.85234375,
      361.63828125,       362.42421874999997, 363.21015624999995,
      363.99609374999994, 364.78203125,       365.56796875,
      366.35390624999997, 367.13984374999995, 367.92578124999994,
      368.71171875,       369.49765625,       370.28359374999997,
      371.06953124999995, 371.85546874999994, 372.64140625,
      373.42734375,       374.21328124999997, 374.99921874999995,
      375.78515624999994, 376.57109375,       377.35703125,
      378.14296874999997, 378.92890624999995, 379.71484374999994,
      380.50078125,       381.28671875,       382.07265624999997,
      382.85859374999995, 383.64453124999994, 384.43046875,
      385.21640625,       386.00234374999997, 386.78828124999995,
      387.57421874999994, 388.36015625,       389.14609375,
      389.93203124999997, 390.71796874999995, 391.50390624999994,
      392.28984375,       393.07578125,       393.86171874999997,
      394.64765624999995, 395.43359374999994, 396.21953125,
      397.00546875,       397.79140624999997, 398.57734374999995,
      399.36328124999994, 400.14921875,       400.93515625,
      401.72109374999997, 402.50703124999995, 403.29296874999994,
      404.07890625,       404.86484375,       405.65078124999997,
      406.43671874999995, 407.22265624999994, 408.00859375,
      408.79453125,       409.58046874999997, 410.36640624999995,
      411.15234374999994, 411.93828125,       412.72421875,
      413.51015624999997, 414.29609374999995, 415.08203124999994,
      415.86796875,       416.65390625,       417.43984374999997,
      418.22578124999995, 419.01171874999994, 419.79765625,
      420.58359375,       421.36953124999997, 422.15546874999995,
      422.94140624999994, 423.72734375,       424.51328125,
      425.29921874999997, 426.08515624999995, 426.87109374999994,
      427.65703125,       428.44296875,       429.22890624999997,
      430.01484374999995, 430.80078124999994, 431.58671875,
      432.37265625,       433.15859374999997, 433.94453124999995,
      434.73046874999994, 435.51640625,       436.30234375,
      437.08828124999997, 437.87421874999995, 438.66015624999994,
      439.44609375,       440.23203125,       441.01796874999997,
      441.80390624999995, 442.58984374999994, 443.37578125,
      444.16171875,       444.94765624999997, 445.73359374999995,
      446.51953124999994, 447.30546875,       448.09140625,
      448.87734374999997, 449.66328124999995, 450.44921874999994,
      451.23515625,       452.02109375,       452.80703124999997,
      453.59296874999995, 454.37890624999994, 455.16484375,
      455.95078125,       456.73671874999997, 457.52265624999995,
      458.30859374999994, 459.09453125,       459.88046875,
      460.66640624999997, 461.45234374999995, 462.23828124999994,
      463.02421875,       463.81015625,       464.59609374999997,
      465.38203124999995, 466.16796874999994, 466.95390625,
      467.73984375,       468.52578124999997, 469.31171874999995,
      470.09765624999994, 470.88359375,       471.66953125,
      472.45546874999997, 473.24140624999995, 474.02734374999994,
      474.81328125,       475.59921875,       476.38515624999997,
      477.17109374999995, 477.95703124999994, 478.74296875,
      479.52890625,       480.31484374999997, 481.10078124999995,
      481.88671874999994, 482.67265625,       483.45859375,
      484.24453124999997, 485.03046874999995, 485.81640624999994,
      486.60234375,       487.38828125,       488.17421874999997,
      488.96015624999995, 489.74609374999994, 490.53203125,
      491.31796875,       492.10390624999997, 492.88984374999995,
      493.67578124999994, 494.46171875,       495.24765625,
      496.03359374999997, 496.81953124999995, 497.60546874999994,
      498.39140625,       499.17734375,       499.96328124999997,
      500.74921874999995, 501.53515624999994, 502.32109375,
      503.10703125};
  static const int16_T iv[640]{
      -1,  0,   1,   2,   3,   3,   4,   5,   6,   6,   7,   8,   9,   10,  10,
      11,  12,  13,  14,  14,  15,  16,  17,  17,  18,  19,  20,  21,  21,  22,
      23,  24,  25,  25,  26,  27,  28,  28,  29,  30,  31,  32,  32,  33,  34,
      35,  36,  36,  37,  38,  39,  39,  40,  41,  42,  43,  43,  44,  45,  46,
      47,  47,  48,  49,  50,  50,  51,  52,  53,  54,  54,  55,  56,  57,  58,
      58,  59,  60,  61,  61,  62,  63,  64,  65,  65,  66,  67,  68,  69,  69,
      70,  71,  72,  72,  73,  74,  75,  76,  76,  77,  78,  79,  80,  80,  81,
      82,  83,  83,  84,  85,  86,  87,  87,  88,  89,  90,  91,  91,  92,  93,
      94,  94,  95,  96,  97,  98,  98,  99,  100, 101, 102, 102, 103, 104, 105,
      105, 106, 107, 108, 109, 109, 110, 111, 112, 113, 113, 114, 115, 116, 116,
      117, 118, 119, 120, 120, 121, 122, 123, 124, 124, 125, 126, 127, 128, 128,
      129, 130, 131, 131, 132, 133, 134, 135, 135, 136, 137, 138, 139, 139, 140,
      141, 142, 142, 143, 144, 145, 146, 146, 147, 148, 149, 150, 150, 151, 152,
      153, 153, 154, 155, 156, 157, 157, 158, 159, 160, 161, 161, 162, 163, 164,
      164, 165, 166, 167, 168, 168, 169, 170, 171, 172, 172, 173, 174, 175, 175,
      176, 177, 178, 179, 179, 180, 181, 182, 183, 183, 184, 185, 186, 186, 187,
      188, 189, 190, 190, 191, 192, 193, 194, 194, 195, 196, 197, 197, 198, 199,
      200, 201, 201, 202, 203, 204, 205, 205, 206, 207, 208, 208, 209, 210, 211,
      212, 212, 213, 214, 215, 216, 216, 217, 218, 219, 219, 220, 221, 222, 223,
      223, 224, 225, 226, 227, 227, 228, 229, 230, 230, 231, 232, 233, 234, 234,
      235, 236, 237, 238, 238, 239, 240, 241, 241, 242, 243, 244, 245, 245, 246,
      247, 248, 249, 249, 250, 251, 252, 252, 253, 254, 255, 256, 256, 257, 258,
      259, 260, 260, 261, 262, 263, 263, 264, 265, 266, 267, 267, 268, 269, 270,
      271, 271, 272, 273, 274, 274, 275, 276, 277, 278, 278, 279, 280, 281, 282,
      282, 283, 284, 285, 285, 286, 287, 288, 289, 289, 290, 291, 292, 293, 293,
      294, 295, 296, 296, 297, 298, 299, 300, 300, 301, 302, 303, 304, 304, 305,
      306, 307, 307, 308, 309, 310, 311, 311, 312, 313, 314, 315, 315, 316, 317,
      318, 318, 319, 320, 321, 322, 322, 323, 324, 325, 326, 326, 327, 328, 329,
      329, 330, 331, 332, 333, 333, 334, 335, 336, 337, 337, 338, 339, 340, 340,
      341, 342, 343, 344, 344, 345, 346, 347, 348, 348, 349, 350, 351, 351, 352,
      353, 354, 355, 355, 356, 357, 358, 359, 359, 360, 361, 362, 362, 363, 364,
      365, 366, 366, 367, 368, 369, 370, 370, 371, 372, 373, 373, 374, 375, 376,
      377, 377, 378, 379, 380, 381, 381, 382, 383, 384, 385, 385, 386, 387, 388,
      388, 389, 390, 391, 392, 392, 393, 394, 395, 396, 396, 397, 398, 399, 399,
      400, 401, 402, 403, 403, 404, 405, 406, 407, 407, 408, 409, 410, 410, 411,
      412, 413, 414, 414, 415, 416, 417, 418, 418, 419, 420, 421, 421, 422, 423,
      424, 425, 425, 426, 427, 428, 429, 429, 430, 431, 432, 432, 433, 434, 435,
      436, 436, 437, 438, 439, 440, 440, 441, 442, 443, 443, 444, 445, 446, 447,
      447, 448, 449, 450, 451, 451, 452, 453, 454, 454, 455, 456, 457, 458, 458,
      459, 460, 461, 462, 462, 463, 464, 465, 465, 466, 467, 468, 469, 469, 470,
      471, 472, 473, 473, 474, 475, 476, 476, 477, 478, 479, 480, 480, 481, 482,
      483, 484, 484, 485, 486, 487, 487, 488, 489, 490, 491, 491, 492, 493, 494,
      495, 495, 496, 497, 498, 498, 499, 500, 501, 502};
  __m128d r;
  __m128d r1;
  emlrtStack b_st;
  emlrtStack c_st;
  emlrtStack d_st;
  emlrtStack st;
  real_T b[2560];
  real_T f[2560];
  real_T y[640];
  real_T d;
  int32_T indices[2560];
  int32_T aux[1006];
  int32_T a;
  int32_T i1;
  int32_T xoffset;
  int8_T tmp_data[4];
  boolean_T copyCols[4];
  st.prev = &sp;
  st.tls = sp.tls;
  b_st.prev = &st;
  b_st.tls = st.tls;
  c_st.prev = &b_st;
  c_st.tls = b_st.tls;
  d_st.prev = &c_st;
  d_st.tls = c_st.tls;
  //  Contributions, using pixel indices
  for (int32_T k{0}; k < 4; k++) {
    for (int32_T b_k{0}; b_k < 640; b_k++) {
      indices[b_k + 640 * k] = iv[b_k] + k;
    }
  }
  for (int32_T k{0}; k < 2560; k++) {
    b[k] = indices[k];
  }
  for (int32_T k{0}; k < 4; k++) {
    for (int32_T b_k{0}; b_k <= 638; b_k += 2) {
      xoffset = b_k + 640 * k;
      r = _mm_loadu_pd(&b[xoffset]);
      _mm_storeu_pd(&f[xoffset], _mm_sub_pd(_mm_loadu_pd(&dv[b_k]), r));
    }
  }
  for (int32_T k{0}; k < 2560; k++) {
    d = f[k];
    d = (d + 1.0) * static_cast<real_T>((d >= -1.0) && (d < 0.0)) +
        (1.0 - d) * static_cast<real_T>((d >= 0.0) && (d <= 1.0));
    f[k] = d;
  }
  std::copy(&f[0], &f[640], &y[0]);
  for (int32_T k{0}; k < 3; k++) {
    xoffset = (k + 1) * 640;
    for (int32_T b_k{0}; b_k <= 638; b_k += 2) {
      r = _mm_loadu_pd(&y[b_k]);
      r1 = _mm_loadu_pd(&f[xoffset + b_k]);
      _mm_storeu_pd(&y[b_k], _mm_add_pd(r, r1));
    }
  }
  std::copy(&f[0], &f[2560], &b[0]);
  for (int32_T k{0}; k < 4; k++) {
    for (int32_T b_k{0}; b_k <= 638; b_k += 2) {
      xoffset = b_k + 640 * k;
      r = _mm_loadu_pd(&b[xoffset]);
      r1 = _mm_loadu_pd(&y[b_k]);
      _mm_storeu_pd(&f[xoffset], _mm_div_pd(r, r1));
    }
  }
  //  Create the auxiliary matrix:
  aux[0] = 1;
  aux[503] = 503;
  for (int32_T k{0}; k < 502; k++) {
    aux[k + 1] = aux[k] + 1;
    aux[k + 504] = aux[k + 503] - 1;
  }
  //  Mirror the out-of-bounds indices using mod:
  for (int32_T k{0}; k < 2560; k++) {
    xoffset = static_cast<int32_T>(
        muDoubleScalarRem(static_cast<real_T>(indices[k]) - 1.0, 1006.0));
    if (xoffset < 0) {
      xoffset += 1006;
    }
    indices[k] = aux[xoffset];
  }
  st.site = &m_emlrtRSI;
  b_st.site = &n_emlrtRSI;
  copyCols[0] = false;
  copyCols[1] = false;
  copyCols[2] = false;
  copyCols[3] = false;
  xoffset = 640;
  for (int32_T k{0}; k < 4; k++) {
    boolean_T exitg1;
    a = xoffset;
    i1 = xoffset - 639;
    xoffset += 640;
    c_st.site = &o_emlrtRSI;
    if ((i1 <= a) && (a > 2147483646)) {
      d_st.site = &p_emlrtRSI;
      check_forloop_overflow_error(d_st);
    }
    exitg1 = false;
    while ((!exitg1) && (i1 <= a)) {
      d = f[i1 - 1];
      if ((d == 0.0) || muDoubleScalarIsNaN(d)) {
        i1++;
      } else {
        copyCols[k] = true;
        exitg1 = true;
      }
    }
  }
  i1 = 0;
  if (copyCols[0]) {
    i1 = 1;
  }
  if (copyCols[1]) {
    i1++;
  }
  if (copyCols[2]) {
    i1++;
  }
  if (copyCols[3]) {
    i1++;
  }
  xoffset = 0;
  if (copyCols[0]) {
    tmp_data[0] = 0;
    xoffset = 1;
  }
  if (copyCols[1]) {
    tmp_data[xoffset] = 1;
    xoffset++;
  }
  if (copyCols[2]) {
    tmp_data[xoffset] = 2;
    xoffset++;
  }
  if (copyCols[3]) {
    tmp_data[xoffset] = 3;
  }
  weights_size[0] = i1;
  weights_size[1] = 640;
  indices_size[0] = i1;
  indices_size[1] = 640;
  for (int32_T k{0}; k < 640; k++) {
    for (int32_T b_k{0}; b_k < i1; b_k++) {
      xoffset = k + 640 * tmp_data[b_k];
      a = b_k + i1 * k;
      weights_data[a] = f[xoffset];
      indices_data[a] = indices[xoffset];
    }
  }
}

void b_imresize(yolov8PredictStackData *SD, const emlrtStack &sp,
                const uint8_T Ain[623217], uint8_T Bout[1008000])
{
  static const real_T dv[525]{0.89333333333333331,
                              1.6800000000000002,
                              2.4666666666666668,
                              3.2533333333333334,
                              4.04,
                              4.8266666666666671,
                              5.6133333333333333,
                              6.4,
                              7.1866666666666665,
                              7.9733333333333336,
                              8.7600000000000016,
                              9.5466666666666686,
                              10.333333333333334,
                              11.120000000000001,
                              11.906666666666668,
                              12.693333333333335,
                              13.48,
                              14.266666666666667,
                              15.053333333333335,
                              15.840000000000002,
                              16.626666666666665,
                              17.413333333333334,
                              18.2,
                              18.986666666666668,
                              19.773333333333333,
                              20.56,
                              21.346666666666668,
                              22.133333333333333,
                              22.919999999999998,
                              23.706666666666667,
                              24.493333333333332,
                              25.28,
                              26.066666666666666,
                              26.853333333333332,
                              27.64,
                              28.426666666666666,
                              29.213333333333335,
                              30.0,
                              30.786666666666665,
                              31.573333333333334,
                              32.360000000000007,
                              33.146666666666668,
                              33.933333333333337,
                              34.720000000000006,
                              35.506666666666668,
                              36.293333333333337,
                              37.080000000000005,
                              37.866666666666674,
                              38.653333333333336,
                              39.440000000000005,
                              40.226666666666674,
                              41.013333333333335,
                              41.800000000000004,
                              42.586666666666673,
                              43.373333333333335,
                              44.160000000000004,
                              44.946666666666673,
                              45.733333333333334,
                              46.52,
                              47.306666666666672,
                              48.093333333333341,
                              48.88,
                              49.666666666666671,
                              50.45333333333334,
                              51.24,
                              52.026666666666671,
                              52.81333333333334,
                              53.6,
                              54.38666666666667,
                              55.173333333333339,
                              55.960000000000008,
                              56.74666666666667,
                              57.533333333333339,
                              58.320000000000007,
                              59.106666666666669,
                              59.893333333333338,
                              60.680000000000007,
                              61.466666666666669,
                              62.253333333333337,
                              63.040000000000006,
                              63.826666666666675,
                              64.613333333333344,
                              65.4,
                              66.186666666666667,
                              66.973333333333343,
                              67.76,
                              68.546666666666667,
                              69.333333333333343,
                              70.12,
                              70.906666666666666,
                              71.693333333333342,
                              72.48,
                              73.266666666666666,
                              74.053333333333342,
                              74.84,
                              75.626666666666679,
                              76.413333333333341,
                              77.2,
                              77.986666666666679,
                              78.773333333333341,
                              79.56,
                              80.346666666666678,
                              81.13333333333334,
                              81.92,
                              82.706666666666678,
                              83.493333333333339,
                              84.28,
                              85.066666666666677,
                              85.853333333333339,
                              86.64,
                              87.426666666666677,
                              88.213333333333338,
                              89.0,
                              89.786666666666676,
                              90.573333333333338,
                              91.36,
                              92.146666666666675,
                              92.933333333333337,
                              93.720000000000013,
                              94.506666666666675,
                              95.293333333333337,
                              96.080000000000013,
                              96.866666666666674,
                              97.653333333333336,
                              98.440000000000012,
                              99.226666666666674,
                              100.01333333333334,
                              100.80000000000001,
                              101.58666666666667,
                              102.37333333333333,
                              103.16000000000001,
                              103.94666666666667,
                              104.73333333333333,
                              105.52000000000001,
                              106.30666666666667,
                              107.09333333333333,
                              107.88000000000001,
                              108.66666666666667,
                              109.45333333333335,
                              110.24000000000001,
                              111.02666666666667,
                              111.81333333333335,
                              112.60000000000001,
                              113.38666666666667,
                              114.17333333333335,
                              114.96000000000001,
                              115.74666666666667,
                              116.53333333333335,
                              117.32000000000001,
                              118.10666666666667,
                              118.89333333333335,
                              119.68,
                              120.46666666666667,
                              121.25333333333334,
                              122.04,
                              122.82666666666667,
                              123.61333333333334,
                              124.4,
                              125.18666666666668,
                              125.97333333333334,
                              126.76,
                              127.54666666666668,
                              128.33333333333331,
                              129.12,
                              129.90666666666667,
                              130.69333333333333,
                              131.48,
                              132.26666666666665,
                              133.05333333333334,
                              133.84,
                              134.62666666666667,
                              135.41333333333333,
                              136.2,
                              136.98666666666665,
                              137.77333333333334,
                              138.56,
                              139.34666666666666,
                              140.13333333333333,
                              140.92,
                              141.70666666666665,
                              142.49333333333334,
                              143.28,
                              144.06666666666666,
                              144.85333333333332,
                              145.64,
                              146.42666666666665,
                              147.21333333333334,
                              148.0,
                              148.78666666666666,
                              149.57333333333332,
                              150.35999999999999,
                              151.14666666666668,
                              151.93333333333334,
                              152.72,
                              153.50666666666666,
                              154.29333333333332,
                              155.07999999999998,
                              155.86666666666667,
                              156.65333333333334,
                              157.44,
                              158.22666666666666,
                              159.01333333333332,
                              159.79999999999998,
                              160.58666666666667,
                              161.37333333333333,
                              162.16,
                              162.94666666666666,
                              163.73333333333332,
                              164.51999999999998,
                              165.30666666666667,
                              166.09333333333333,
                              166.88,
                              167.66666666666666,
                              168.45333333333332,
                              169.24,
                              170.02666666666667,
                              170.81333333333333,
                              171.6,
                              172.38666666666666,
                              173.17333333333332,
                              173.96,
                              174.74666666666667,
                              175.53333333333333,
                              176.32,
                              177.10666666666665,
                              177.89333333333332,
                              178.68,
                              179.46666666666667,
                              180.25333333333333,
                              181.04,
                              181.82666666666665,
                              182.61333333333332,
                              183.4,
                              184.18666666666667,
                              184.97333333333333,
                              185.76,
                              186.54666666666665,
                              187.33333333333334,
                              188.12,
                              188.90666666666667,
                              189.69333333333333,
                              190.48,
                              191.26666666666665,
                              192.05333333333334,
                              192.84,
                              193.62666666666667,
                              194.41333333333333,
                              195.2,
                              195.98666666666665,
                              196.77333333333334,
                              197.56,
                              198.34666666666666,
                              199.13333333333333,
                              199.92,
                              200.70666666666668,
                              201.49333333333334,
                              202.28,
                              203.06666666666666,
                              203.85333333333332,
                              204.64,
                              205.42666666666668,
                              206.21333333333334,
                              207.0,
                              207.78666666666666,
                              208.57333333333332,
                              209.35999999999999,
                              210.14666666666668,
                              210.93333333333334,
                              211.72,
                              212.50666666666666,
                              213.29333333333332,
                              214.07999999999998,
                              214.86666666666667,
                              215.65333333333334,
                              216.44,
                              217.22666666666666,
                              218.01333333333332,
                              218.8,
                              219.58666666666667,
                              220.37333333333333,
                              221.16,
                              221.94666666666666,
                              222.73333333333332,
                              223.52,
                              224.30666666666667,
                              225.09333333333333,
                              225.88,
                              226.66666666666666,
                              227.45333333333332,
                              228.24,
                              229.02666666666667,
                              229.81333333333333,
                              230.6,
                              231.38666666666666,
                              232.17333333333332,
                              232.96,
                              233.74666666666667,
                              234.53333333333333,
                              235.32,
                              236.10666666666665,
                              236.89333333333335,
                              237.68,
                              238.46666666666667,
                              239.25333333333333,
                              240.04,
                              240.82666666666665,
                              241.61333333333334,
                              242.4,
                              243.18666666666667,
                              243.97333333333333,
                              244.76,
                              245.54666666666665,
                              246.33333333333334,
                              247.12,
                              247.90666666666667,
                              248.69333333333333,
                              249.48,
                              250.26666666666668,
                              251.05333333333334,
                              251.84,
                              252.62666666666667,
                              253.41333333333333,
                              254.2,
                              254.98666666666668,
                              255.77333333333334,
                              256.56,
                              257.34666666666669,
                              258.13333333333338,
                              258.92,
                              259.70666666666671,
                              260.49333333333334,
                              261.28000000000003,
                              262.06666666666672,
                              262.85333333333335,
                              263.64000000000004,
                              264.42666666666668,
                              265.21333333333337,
                              266.00000000000006,
                              266.78666666666669,
                              267.57333333333338,
                              268.36,
                              269.1466666666667,
                              269.93333333333334,
                              270.72,
                              271.50666666666672,
                              272.29333333333335,
                              273.08000000000004,
                              273.86666666666667,
                              274.65333333333336,
                              275.44000000000005,
                              276.22666666666669,
                              277.01333333333338,
                              277.8,
                              278.5866666666667,
                              279.37333333333333,
                              280.16,
                              280.94666666666672,
                              281.73333333333335,
                              282.52000000000004,
                              283.30666666666667,
                              284.09333333333336,
                              284.88000000000005,
                              285.66666666666669,
                              286.45333333333338,
                              287.24,
                              288.0266666666667,
                              288.81333333333339,
                              289.6,
                              290.38666666666671,
                              291.17333333333335,
                              291.96000000000004,
                              292.74666666666667,
                              293.53333333333336,
                              294.32000000000005,
                              295.10666666666668,
                              295.89333333333337,
                              296.68,
                              297.4666666666667,
                              298.25333333333339,
                              299.04,
                              299.82666666666671,
                              300.61333333333334,
                              301.40000000000003,
                              302.18666666666672,
                              302.97333333333336,
                              303.76000000000005,
                              304.54666666666668,
                              305.33333333333337,
                              306.12,
                              306.90666666666669,
                              307.69333333333338,
                              308.48,
                              309.26666666666671,
                              310.05333333333334,
                              310.84000000000003,
                              311.62666666666672,
                              312.41333333333336,
                              313.20000000000005,
                              313.98666666666668,
                              314.77333333333337,
                              315.56,
                              316.34666666666669,
                              317.13333333333338,
                              317.92,
                              318.70666666666671,
                              319.49333333333334,
                              320.28000000000003,
                              321.06666666666672,
                              321.85333333333335,
                              322.64000000000004,
                              323.42666666666668,
                              324.21333333333337,
                              325.00000000000006,
                              325.78666666666669,
                              326.57333333333338,
                              327.36,
                              328.1466666666667,
                              328.93333333333334,
                              329.72,
                              330.50666666666672,
                              331.29333333333335,
                              332.08000000000004,
                              332.86666666666667,
                              333.65333333333336,
                              334.44000000000005,
                              335.22666666666669,
                              336.01333333333338,
                              336.8,
                              337.5866666666667,
                              338.37333333333339,
                              339.16,
                              339.94666666666672,
                              340.73333333333335,
                              341.52000000000004,
                              342.30666666666667,
                              343.09333333333336,
                              343.88000000000005,
                              344.66666666666669,
                              345.45333333333338,
                              346.24,
                              347.0266666666667,
                              347.81333333333339,
                              348.6,
                              349.38666666666671,
                              350.17333333333335,
                              350.96000000000004,
                              351.74666666666673,
                              352.53333333333336,
                              353.32000000000005,
                              354.10666666666668,
                              354.89333333333337,
                              355.68,
                              356.4666666666667,
                              357.25333333333339,
                              358.04,
                              358.82666666666671,
                              359.61333333333334,
                              360.40000000000003,
                              361.18666666666672,
                              361.97333333333336,
                              362.76000000000005,
                              363.54666666666668,
                              364.33333333333337,
                              365.12,
                              365.90666666666669,
                              366.69333333333338,
                              367.48,
                              368.26666666666671,
                              369.05333333333334,
                              369.84000000000003,
                              370.62666666666672,
                              371.41333333333336,
                              372.20000000000005,
                              372.98666666666668,
                              373.77333333333337,
                              374.56000000000006,
                              375.34666666666669,
                              376.13333333333338,
                              376.92,
                              377.70666666666671,
                              378.49333333333334,
                              379.28000000000003,
                              380.06666666666672,
                              380.85333333333335,
                              381.64000000000004,
                              382.42666666666668,
                              383.21333333333337,
                              384.00000000000006,
                              384.78666666666669,
                              385.57333333333338,
                              386.36,
                              387.1466666666667,
                              387.93333333333339,
                              388.72,
                              389.50666666666672,
                              390.29333333333335,
                              391.08000000000004,
                              391.86666666666667,
                              392.65333333333336,
                              393.44000000000005,
                              394.22666666666669,
                              395.01333333333338,
                              395.8,
                              396.5866666666667,
                              397.37333333333339,
                              398.16,
                              398.94666666666672,
                              399.73333333333335,
                              400.52000000000004,
                              401.30666666666673,
                              402.09333333333336,
                              402.88000000000005,
                              403.66666666666669,
                              404.45333333333338,
                              405.24,
                              406.0266666666667,
                              406.81333333333339,
                              407.6,
                              408.38666666666671,
                              409.17333333333335,
                              409.96000000000004,
                              410.74666666666673,
                              411.53333333333336,
                              412.32000000000005,
                              413.10666666666668};
  static const int16_T iv[525]{
      -1,  0,   1,   2,   3,   3,   4,   5,   6,   6,   7,   8,   9,   10,
      10,  11,  12,  13,  14,  14,  15,  16,  17,  17,  18,  19,  20,  21,
      21,  22,  23,  24,  25,  25,  26,  27,  28,  29,  29,  30,  31,  32,
      32,  33,  34,  35,  36,  36,  37,  38,  39,  40,  40,  41,  42,  43,
      43,  44,  45,  46,  47,  47,  48,  49,  50,  51,  51,  52,  53,  54,
      54,  55,  56,  57,  58,  58,  59,  60,  61,  62,  62,  63,  64,  65,
      65,  66,  67,  68,  69,  69,  70,  71,  72,  73,  73,  74,  75,  76,
      76,  77,  78,  79,  80,  80,  81,  82,  83,  84,  84,  85,  86,  87,
      88,  88,  89,  90,  91,  91,  92,  93,  94,  95,  95,  96,  97,  98,
      99,  99,  100, 101, 102, 102, 103, 104, 105, 106, 106, 107, 108, 109,
      110, 110, 111, 112, 113, 113, 114, 115, 116, 117, 117, 118, 119, 120,
      121, 121, 122, 123, 124, 124, 125, 126, 127, 128, 128, 129, 130, 131,
      132, 132, 133, 134, 135, 135, 136, 137, 138, 139, 139, 140, 141, 142,
      143, 143, 144, 145, 146, 147, 147, 148, 149, 150, 150, 151, 152, 153,
      154, 154, 155, 156, 157, 158, 158, 159, 160, 161, 161, 162, 163, 164,
      165, 165, 166, 167, 168, 169, 169, 170, 171, 172, 172, 173, 174, 175,
      176, 176, 177, 178, 179, 180, 180, 181, 182, 183, 183, 184, 185, 186,
      187, 187, 188, 189, 190, 191, 191, 192, 193, 194, 194, 195, 196, 197,
      198, 198, 199, 200, 201, 202, 202, 203, 204, 205, 206, 206, 207, 208,
      209, 209, 210, 211, 212, 213, 213, 214, 215, 216, 217, 217, 218, 219,
      220, 220, 221, 222, 223, 224, 224, 225, 226, 227, 228, 228, 229, 230,
      231, 231, 232, 233, 234, 235, 235, 236, 237, 238, 239, 239, 240, 241,
      242, 242, 243, 244, 245, 246, 246, 247, 248, 249, 250, 250, 251, 252,
      253, 253, 254, 255, 256, 257, 257, 258, 259, 260, 261, 261, 262, 263,
      264, 265, 265, 266, 267, 268, 268, 269, 270, 271, 272, 272, 273, 274,
      275, 276, 276, 277, 278, 279, 279, 280, 281, 282, 283, 283, 284, 285,
      286, 287, 287, 288, 289, 290, 290, 291, 292, 293, 294, 294, 295, 296,
      297, 298, 298, 299, 300, 301, 301, 302, 303, 304, 305, 305, 306, 307,
      308, 309, 309, 310, 311, 312, 312, 313, 314, 315, 316, 316, 317, 318,
      319, 320, 320, 321, 322, 323, 324, 324, 325, 326, 327, 327, 328, 329,
      330, 331, 331, 332, 333, 334, 335, 335, 336, 337, 338, 338, 339, 340,
      341, 342, 342, 343, 344, 345, 346, 346, 347, 348, 349, 349, 350, 351,
      352, 353, 353, 354, 355, 356, 357, 357, 358, 359, 360, 360, 361, 362,
      363, 364, 364, 365, 366, 367, 368, 368, 369, 370, 371, 371, 372, 373,
      374, 375, 375, 376, 377, 378, 379, 379, 380, 381, 382, 383, 383, 384,
      385, 386, 386, 387, 388, 389, 390, 390, 391, 392, 393, 394, 394, 395,
      396, 397, 397, 398, 399, 400, 401, 401, 402, 403, 404, 405, 405, 406,
      407, 408, 408, 409, 410, 411, 412};
  __m128d r;
  __m128d r1;
  emlrtStack b_st;
  emlrtStack c_st;
  emlrtStack d_st;
  emlrtStack e_st;
  emlrtStack st;
  real_T weights_data[2560];
  real_T b[2100];
  real_T f[2100];
  real_T y[525];
  real_T sumVal1;
  real_T v;
  int32_T b_indices_data[2560];
  int32_T indices[2100];
  int32_T indices_data[2100];
  int32_T aux[826];
  int32_T a;
  int32_T i1;
  int32_T xoffset;
  int16_T siz_idx_0;
  int8_T tmp_data[4];
  boolean_T copyCols[4];
  boolean_T p;
  st.prev = &sp;
  st.tls = sp.tls;
  b_st.prev = &st;
  b_st.tls = st.tls;
  c_st.prev = &b_st;
  c_st.tls = b_st.tls;
  d_st.prev = &c_st;
  d_st.tls = c_st.tls;
  e_st.prev = &d_st;
  e_st.tls = d_st.tls;
  //  Resize first dimension
  st.site = &i_emlrtRSI;
  //  Contributions, using pixel indices
  for (int32_T k{0}; k < 4; k++) {
    for (int32_T b_k{0}; b_k < 525; b_k++) {
      indices[b_k + 525 * k] = iv[b_k] + k;
    }
  }
  for (int32_T k{0}; k < 2100; k++) {
    b[k] = indices[k];
  }
  for (int32_T b_k{0}; b_k < 4; b_k++) {
    for (int32_T k{0}; k <= 522; k += 2) {
      xoffset = k + 525 * b_k;
      r = _mm_loadu_pd(&b[xoffset]);
      _mm_storeu_pd(&f[xoffset], _mm_sub_pd(_mm_loadu_pd(&dv[k]), r));
    }
    xoffset = 525 * b_k + 524;
    f[xoffset] = dv[524] - b[xoffset];
  }
  for (int32_T k{0}; k < 2100; k++) {
    v = f[k];
    v = (v + 1.0) * static_cast<real_T>((v >= -1.0) && (v < 0.0)) +
        (1.0 - v) * static_cast<real_T>((v >= 0.0) && (v <= 1.0));
    f[k] = v;
  }
  std::copy(&f[0], &f[525], &y[0]);
  for (int32_T k{0}; k < 3; k++) {
    xoffset = (k + 1) * 525;
    for (int32_T b_k{0}; b_k <= 522; b_k += 2) {
      r = _mm_loadu_pd(&y[b_k]);
      r1 = _mm_loadu_pd(&f[xoffset + b_k]);
      _mm_storeu_pd(&y[b_k], _mm_add_pd(r, r1));
    }
    y[524] += f[xoffset + 524];
  }
  std::copy(&f[0], &f[2100], &b[0]);
  for (int32_T b_k{0}; b_k < 4; b_k++) {
    for (int32_T k{0}; k <= 522; k += 2) {
      xoffset = k + 525 * b_k;
      r = _mm_loadu_pd(&b[xoffset]);
      r1 = _mm_loadu_pd(&y[k]);
      _mm_storeu_pd(&f[xoffset], _mm_div_pd(r, r1));
    }
    xoffset = 525 * b_k + 524;
    f[xoffset] = b[xoffset] / y[524];
  }
  //  Create the auxiliary matrix:
  aux[0] = 1;
  aux[413] = 413;
  for (int32_T k{0}; k < 412; k++) {
    aux[k + 1] = aux[k] + 1;
    aux[k + 414] = aux[k + 413] - 1;
  }
  //  Mirror the out-of-bounds indices using mod:
  for (int32_T k{0}; k < 2100; k++) {
    xoffset = static_cast<int32_T>(
        muDoubleScalarRem(static_cast<real_T>(indices[k]) - 1.0, 826.0));
    if (xoffset < 0) {
      xoffset += 826;
    }
    indices[k] = aux[xoffset];
  }
  b_st.site = &m_emlrtRSI;
  c_st.site = &n_emlrtRSI;
  copyCols[0] = false;
  copyCols[1] = false;
  copyCols[2] = false;
  copyCols[3] = false;
  xoffset = 525;
  for (int32_T k{0}; k < 4; k++) {
    boolean_T exitg1;
    a = xoffset;
    i1 = xoffset - 524;
    xoffset += 525;
    d_st.site = &o_emlrtRSI;
    if ((i1 <= a) && (a > 2147483646)) {
      e_st.site = &p_emlrtRSI;
      check_forloop_overflow_error(e_st);
    }
    exitg1 = false;
    while ((!exitg1) && (i1 <= a)) {
      v = f[i1 - 1];
      if ((v == 0.0) || muDoubleScalarIsNaN(v)) {
        i1++;
      } else {
        copyCols[k] = true;
        exitg1 = true;
      }
    }
  }
  i1 = 0;
  if (copyCols[0]) {
    i1 = 1;
  }
  if (copyCols[1]) {
    i1++;
  }
  if (copyCols[2]) {
    i1++;
  }
  if (copyCols[3]) {
    i1++;
  }
  xoffset = 0;
  if (copyCols[0]) {
    tmp_data[0] = 0;
    xoffset = 1;
  }
  if (copyCols[1]) {
    tmp_data[xoffset] = 1;
    xoffset++;
  }
  if (copyCols[2]) {
    tmp_data[xoffset] = 2;
    xoffset++;
  }
  if (copyCols[3]) {
    tmp_data[xoffset] = 3;
  }
  for (int32_T k{0}; k < 525; k++) {
    for (int32_T b_k{0}; b_k < i1; b_k++) {
      xoffset = k + 525 * tmp_data[b_k];
      a = b_k + i1 * k;
      b[a] = f[xoffset];
      indices_data[a] = indices[xoffset];
    }
  }
  st.site = &j_emlrtRSI;
  b_st.site = &q_emlrtRSI;
  p = (i1 >= 1);
  for (int32_T k{0}; k < 1509; k++) {
    for (int32_T b_k{0}; b_k < 525; b_k++) {
      sumVal1 = 0.0;
      c_st.site = &r_emlrtRSI;
      d_st.site = &s_emlrtRSI;
      if (!p) {
        emlrtErrorWithMessageIdR2018a(&d_st, &emlrtRTEI,
                                      "MATLAB:sub2ind:IndexOutOfRange",
                                      "MATLAB:sub2ind:IndexOutOfRange", 0);
      }
      xoffset = i1 * b_k;
      //  Core - first dimension
      for (int32_T c_k{0}; c_k < i1; c_k++) {
        a = xoffset + c_k;
        sumVal1 +=
            b[a] * static_cast<real_T>(Ain[(indices_data[a] + 413 * k) - 1]);
      }
      v = muDoubleScalarAbs(sumVal1);
      if (v < 4.503599627370496E+15) {
        if (v >= 0.5) {
          v = muDoubleScalarFloor(sumVal1 + 0.5);
        } else {
          v = sumVal1 * 0.0;
        }
      } else {
        v = sumVal1;
      }
      if (sumVal1 > 255.0) {
        SD->f2.APartialResize[b_k + 525 * k] = MAX_uint8_T;
      } else if (sumVal1 < 0.0) {
        SD->f2.APartialResize[b_k + 525 * k] = 0U;
      } else {
        SD->f2.APartialResize[b_k + 525 * k] = static_cast<uint8_T>(v);
      }
    }
  }
  int32_T indices_size[2];
  int32_T weights_size[2];
  //  Resize second dimension
  st.site = &k_emlrtRSI;
  contributions(st, weights_data, weights_size, b_indices_data, indices_size);
  st.site = &l_emlrtRSI;
  b_st.site = &q_emlrtRSI;
  xoffset = weights_size[0];
  siz_idx_0 = static_cast<int16_T>(weights_size[0]);
  p = (static_cast<int16_T>(weights_size[0]) >= 1);
  for (int32_T k{0}; k < 3; k++) {
    for (int32_T b_k{0}; b_k < 525; b_k++) {
      c_st.site = &t_emlrtRSI;
      d_st.site = &s_emlrtRSI;
      a = b_k + 264075 * k;
      for (int32_T c_k{0}; c_k < 640; c_k++) {
        sumVal1 = 0.0;
        //  Core - second dimension
        c_st.site = &u_emlrtRSI;
        d_st.site = &s_emlrtRSI;
        if (!p) {
          emlrtErrorWithMessageIdR2018a(&d_st, &emlrtRTEI,
                                        "MATLAB:sub2ind:IndexOutOfRange",
                                        "MATLAB:sub2ind:IndexOutOfRange", 0);
        }
        i1 = siz_idx_0 * c_k;
        for (int32_T d_k{0}; d_k < xoffset; d_k++) {
          int32_T sumVal1_tmp;
          sumVal1_tmp = i1 + d_k;
          sumVal1 +=
              weights_data[sumVal1_tmp] *
              static_cast<real_T>(
                  SD->f2.APartialResize[a + (b_indices_data[sumVal1_tmp] - 1) *
                                                525]);
        }
        v = muDoubleScalarAbs(sumVal1);
        if (v < 4.503599627370496E+15) {
          if (v >= 0.5) {
            v = muDoubleScalarFloor(sumVal1 + 0.5);
          } else {
            v = sumVal1 * 0.0;
          }
        } else {
          v = sumVal1;
        }
        if (sumVal1 > 255.0) {
          Bout[(b_k + 525 * c_k) + 336000 * k] = MAX_uint8_T;
        } else if (sumVal1 < 0.0) {
          Bout[(b_k + 525 * c_k) + 336000 * k] = 0U;
        } else {
          Bout[(b_k + 525 * c_k) + 336000 * k] = static_cast<uint8_T>(v);
        }
      }
    }
  }
}

} // namespace coder

// End of code generation (imresize.cpp)
